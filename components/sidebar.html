<!-- Sidebar -->
<aside id="sidebar" class="sidebar bg-dark text-white">
    <div class="sidebar-header p-3 border-bottom border-secondary">
        <div class="d-flex align-items-center">
            <img src="/assets/img/logo-sm.png" alt="Logo" height="32" class="me-2">
            <h5 class="mb-0 d-none d-lg-block">Pinturas Admin</h5>
        </div>
    </div>

    <nav class="sidebar-nav flex-grow-1 overflow-auto">
        <ul class="nav flex-column p-3">
            
            <!-- Dashboard (todos pueden acceder) -->
            <li class="nav-item mb-2">
                <a class="nav-link text-white" href="/views/dashboard/index.html">
                    <i class="bi bi-speedometer2 me-2"></i>
                    <span>Dashboard</span>
                </a>
            </li>

            <!-- Productos -->
            <li class="nav-item mb-2" data-permission="canViewProducts">
                <a class="nav-link text-white collapsed" 
                   data-bs-toggle="collapse" 
                   href="#productosSubmenu">
                    <i class="bi bi-box-seam me-2"></i>
                    <span>Productos</span>
                    <i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <div class="collapse" id="productosSubmenu">
                    <ul class="nav flex-column ms-3">
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/productos/lista.html">
                                <i class="bi bi-list-ul me-2"></i>Lista de Productos
                            </a>
                        </li>
                        <li class="nav-item" data-permission="canCreateProducts">
                            <a class="nav-link text-white-50" href="/views/productos/crear.html">
                                <i class="bi bi-plus-circle me-2"></i>Nuevo Producto
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <!-- Inventario -->
            <li class="nav-item mb-2" data-permission="canViewInventory">
                <a class="nav-link text-white collapsed" 
                   data-bs-toggle="collapse" 
                   href="#inventarioSubmenu">
                    <i class="bi bi-clipboard-data me-2"></i>
                    <span>Inventario</span>
                    <i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <div class="collapse" id="inventarioSubmenu">
                    <ul class="nav flex-column ms-3">
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/inventario/stock.html">
                                <i class="bi bi-boxes me-2"></i>Ver Stock
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/inventario/movimientos.html">
                                <i class="bi bi-arrow-left-right me-2"></i>Movimientos
                            </a>
                        </li>
                        <li class="nav-item" data-permission="canAdjustInventory">
                            <a class="nav-link text-white-50" href="/views/inventario/ajustes.html">
                                <i class="bi bi-pencil-square me-2"></i>Ajustes
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <!-- Ventas -->
            <li class="nav-item mb-2" data-permission="canAccessPOS">
                <a class="nav-link text-white collapsed" 
                   data-bs-toggle="collapse" 
                   href="#ventasSubmenu">
                    <i class="bi bi-cart-check me-2"></i>
                    <span>Ventas</span>
                    <i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <div class="collapse" id="ventasSubmenu">
                    <ul class="nav flex-column ms-3">
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/ventas/pos.html">
                                <i class="bi bi-calculator me-2"></i>Punto de Venta
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/ventas/facturas.html">
                                <i class="bi bi-receipt me-2"></i>Facturas
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <!-- Usuarios (solo admin y gerente) -->
            <li class="nav-item mb-2" data-permission="canViewUsers">
                <a class="nav-link text-white" href="/views/usuarios/lista.html">
                    <i class="bi bi-person-badge me-2"></i>
                    <span>Usuarios</span>
                </a>
            </li>

            <!-- Configuración (solo admin) -->
            <li class="nav-item mb-2" data-permission="canAccessSettings">
                <a class="nav-link text-white collapsed" 
                   data-bs-toggle="collapse" 
                   href="#configuracionSubmenu">
                    <i class="bi bi-gear me-2"></i>
                    <span>Configuración</span>
                    <i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <div class="collapse" id="configuracionSubmenu">
                    <ul class="nav flex-column ms-3">
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/configuracion/categorias.html">
                                <i class="bi bi-tag me-2"></i>Categorías
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/configuracion/marcas.html">
                                <i class="bi bi-award me-2"></i>Marcas
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

            <!-- Reportes -->
            <li class="nav-item mb-2" data-permission="canViewAllReports">
                <a class="nav-link text-white collapsed" 
                   data-bs-toggle="collapse" 
                   href="#reportesSubmenu">
                    <i class="bi bi-graph-up me-2"></i>
                    <span>Reportes</span>
                    <i class="bi bi-chevron-down ms-auto"></i>
                </a>
                <div class="collapse" id="reportesSubmenu">
                    <ul class="nav flex-column ms-3">
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/reportes/ventas.html">
                                <i class="bi bi-cash-stack me-2"></i>Ventas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-white-50" href="/views/reportes/inventario.html">
                                <i class="bi bi-boxes me-2"></i>Inventario
                            </a>
                        </li>
                    </ul>
                </div>
            </li>

        </ul>
    </nav>

    <div class="sidebar-footer p-3 border-top border-secondary">
        <small class="text-white-50 d-none d-lg-block">
            <i class="bi bi-info-circle me-1"></i>
            Versión 1.0.0
        </small>
    </div>
</aside>

<!-- Overlay para cerrar sidebar en móvil -->
<div class="sidebar-overlay" id="sidebarOverlay"></div>